containerlib: Make `append_layer` stand as an independent and standalone function by removing the push/pull operation.

Before this commit the module supported the below `extend_image` workflow:
"pull -> append_layer -> push". Now, we isolate the `append_layer` operation 
defining a concrete goal for the module which is to append a new layer on top of a
base image.
This is the 3rd iteration for our code. This commit splits the whole append_layer operation into smaller parts. Each one of them has a small and specific purpose/functionality. It also adds checks for various args, raising when needed the appropriate errors.

Refs:  https://github.com/arrikto/dev/issues/1509#issuecomment-974071255

hello
